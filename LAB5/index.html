<html>
    <head>
        <meta charset = "utf-8">
        <title> 2015213150 김민재 5차과제</title>
        <link rel="stylesheet" href="main.css" />
        <script>
            let products = null;

            document.addEventListener("DOMContentLoaded", loadData);

            function loadData() {
                fetch("product.json")
                .then(response => {
                    return response.json();
                })
                .then(json => {
                    products = json;
                })
                .catch(error => {
                    console.log("Error:",error);
                })
                .finally(() => {
                    displayItems();
                })
            }

            window.onscroll = () => {
                if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {
                    displayItems();
                }
            }

            function displayItems(products) {
                const container = document.querySelector('.products');
                container.innerHTML = products.map(product => createHTMLString());
            }

            function createHTMLString(item) {
                return `
                    <div class="products">
                        <div class = "product">
                            <img class= "hover1" src="${item.image}"alt="${item.name}"</img">
                        <div class = "productName" >
                            ${item.name}
                        </div>
                    </div>
            `}

        </script>
    </head>

    <body>
        <h1> <span>shop</span></h1>

        <div class = "navigation">
            <a href = "index.html"> 메인페이지 </a> <a href = "login.html"> 로그인 </a> <a href = "signup.html"> 회원가입 </a>
        </div>
        
        
        <div class = "products">
            <div class = "product"> 
                <img class="hover1" src = "pocari.jpg" alt = "포카리스웨트 사진"> </img>
                <div class = "productName"> 
                    포카리 스웨트
                </div>
            </div>  
            <div class = "product"> 
                <img class="hover1" src = "powerade.jpg"  alt = "파워에이드 사진"> </img> 
                <div class = "productName">
                    파워에이드
                </div>
            </div> 
            
            <div class = "product"> 
                <img class="hover1" src = "coke.jpg" alt = "콜라 사진"> </img>
                <div class = "productName"> 
                    콜라 
                </div>
            </div> 
            
            <div class = "product"> 
                <img class="hover1" src = "cider.jpg" alt = "사이다 사진"> </img>
                <div class = "productName"> 
                    사이다 
                </div>
            </div> 
            
        </div>
        

    </body>
</html>